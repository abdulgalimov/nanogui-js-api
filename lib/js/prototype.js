/**
 * Created by Zaur abdulgalimov@gmail.com on 08.05.2018.
 */


NanoguiModule.postRun.push(function() {
  function inherit(childClass, superClass) {
    childClass.prototype = Object.create(superClass.prototype);
    childClass.prototype.constructor = childClass;
  }
  function extend(childClass, prototype) {
    for (var key in prototype) {
      childClass.prototype[key] = prototype[key];
    }
  }

  Nanogui.Popup.Side = {
    Left: 0,
    Right: 1
  };

  Nanogui.Alignment = {
    Minimum   : 0,
    Middle    : 1,
    Maximum   : 2,
    Fill      : 3
  };
  Nanogui.Orientation = {
    Horizontal  : 0,
    Vertical    : 1
  };
  Nanogui.Button.Flags = {
    NormalButton : (1 << 0), ///< A normal Button.
    RadioButton  : (1 << 1), ///< A radio Button.
    ToggleButton : (1 << 2), ///< A toggle Button.
    PopupButton  : (1 << 3)  ///< A popup Button.
  };
  var buttonsPrototype = {};
  buttonsPrototype._setCallbacks = function() {
    if (!this.id) {
      var id = this.setCallbacks();
      Object.defineProperties(this, {
        id: {
          value: id,
          enumerable: true
        },
        _clickListeners: {
          value: []
        },
        _changeListeners: {
          value: []
        }
      });
      //
      if (!Nanogui._itemsById) {
        Nanogui._itemsById = {};
      }
      Nanogui._itemsById[id] = this;
    }
  };
  buttonsPrototype.addClick = function(func) {
    this._setCallbacks();
    this._clickListeners.push({
      func: func
    });
  };
  buttonsPrototype.addChange = function(func) {
    this._setCallbacks();
    this._changeListeners.push({
      func: func
    });
  };
  extend(Nanogui.Button, buttonsPrototype);
  extend(Nanogui.PopupButton, buttonsPrototype);
  //
  Nanogui.CheckBox.prototype.addChange = buttonsPrototype.addChange;
  Nanogui.CheckBox.prototype._setCallbacks = buttonsPrototype._setCallbacks;
  //
  Nanogui.MessageDialog.prototype.addClick = buttonsPrototype.addClick;
  Nanogui.MessageDialog.prototype._setCallbacks = buttonsPrototype._setCallbacks;
  Nanogui.MessageDialog.Type = {
    Information: 0,
    Question: 1,
    Warning: 2
  };
  //
  Nanogui.eventCallback = function nanoguiEvent(from, event) {
    var id = arguments[2];
    var item = Nanogui._itemsById[id];
    if (!item) return;
    //
    var listeners;
    switch (event) {
      case 1:
        listeners = item._clickListeners;
        for (var i=0; i<listeners.length; i++) {
          listeners[i].func(item, arguments[3]);
        }
        break;
      case 2:
        listeners = item._changeListeners;
        for (i=0; i<listeners.length; i++) {
          listeners[i].func(item, arguments[3]);
        }
        break;
    }
  };
  //
  Nanogui.createToolButton = function(win, icon, label) {
    var button =  new Nanogui.Button(win, '', icon);
    //
    if (label) button.setTooltip(label);
    button.setFlags(Nanogui.Button.Flags.RadioButton | Nanogui.Button.Flags.ToggleButton);
    button.setFixedSize(new Nanogui.Vector2i(25, 25));
    return button;
  };
  
  
  Nanogui.Icons = {
    PX500: 0x0000F100,
    PX500_WITH_CIRCLE: 0x0000F101,
    ADD_TO_LIST: 0x0000F102,
    ADD_USER: 0x0000F103,
    ADDRESS: 0x0000F104,
    ADJUST: 0x0000F105,
    AIR: 0x0000F106,
    AIRCRAFT: 0x0000F107,
    AIRCRAFT_LANDING: 0x0000F108,
    AIRCRAFT_TAKE_OFF: 0x0000F109,
    ALIGN_BOTTOM: 0x0000F10A,
    ALIGN_HORIZONTAL_MIDDLE: 0x0000F10B,
    ALIGN_LEFT: 0x0000F10C,
    ALIGN_RIGHT: 0x0000F10D,
    ALIGN_TOP: 0x0000F10E,
    ALIGN_VERTICAL_MIDDLE: 0x0000F10F,
    APP_STORE: 0x0000F110,
    ARCHIVE: 0x0000F111,
    AREA_GRAPH: 0x0000F112,
    ARROW_BOLD_DOWN: 0x0000F113,
    ARROW_BOLD_LEFT: 0x0000F114,
    ARROW_BOLD_RIGHT: 0x0000F115,
    ARROW_BOLD_UP: 0x0000F116,
    ARROW_DOWN: 0x0000F117,
    ARROW_LEFT: 0x0000F118,
    ARROW_LONG_DOWN: 0x0000F119,
    ARROW_LONG_LEFT: 0x0000F11A,
    ARROW_LONG_RIGHT: 0x0000F11B,
    ARROW_LONG_UP: 0x0000F11C,
    ARROW_RIGHT: 0x0000F11D,
    ARROW_UP: 0x0000F11E,
    ARROW_WITH_CIRCLE_DOWN: 0x0000F11F,
    ARROW_WITH_CIRCLE_LEFT: 0x0000F120,
    ARROW_WITH_CIRCLE_RIGHT: 0x0000F121,
    ARROW_WITH_CIRCLE_UP: 0x0000F122,
    ATTACHMENT: 0x0000F123,
    AWARENESS_RIBBON: 0x0000F124,
    BACK: 0x0000F125,
    BACK_IN_TIME: 0x0000F126,
    BAIDU: 0x0000F127,
    BAR_GRAPH: 0x0000F128,
    BASECAMP: 0x0000F129,
    BATTERY: 0x0000F12A,
    BEAMED_NOTE: 0x0000F12B,
    BEHANCE: 0x0000F12C,
    BELL: 0x0000F12D,
    BLACKBOARD: 0x0000F12E,
    BLOCK: 0x0000F12F,
    BOOK: 0x0000F130,
    BOOKMARK: 0x0000F131,
    BOOKMARKS: 0x0000F132,
    BOWL: 0x0000F133,
    BOX: 0x0000F134,
    BRIEFCASE: 0x0000F135,
    BROWSER: 0x0000F136,
    BRUSH: 0x0000F137,
    BUCKET: 0x0000F138,
    BUG: 0x0000F139,
    CAKE: 0x0000F13A,
    CALCULATOR: 0x0000F13B,
    CALENDAR: 0x0000F13C,
    CAMERA: 0x0000F13D,
    CCW: 0x0000F13E,
    CHAT: 0x0000F13F,
    CHECK: 0x0000F140,
    CHEVRON_DOWN: 0x0000F141,
    CHEVRON_LEFT: 0x0000F142,
    CHEVRON_RIGHT: 0x0000F143,
    CHEVRON_SMALL_DOWN: 0x0000F144,
    CHEVRON_SMALL_LEFT: 0x0000F145,
    CHEVRON_SMALL_RIGHT: 0x0000F146,
    CHEVRON_SMALL_UP: 0x0000F147,
    CHEVRON_THIN_DOWN: 0x0000F148,
    CHEVRON_THIN_LEFT: 0x0000F149,
    CHEVRON_THIN_RIGHT: 0x0000F14A,
    CHEVRON_THIN_UP: 0x0000F14B,
    CHEVRON_UP: 0x0000F14C,
    CHEVRON_WITH_CIRCLE_DOWN: 0x0000F14D,
    CHEVRON_WITH_CIRCLE_LEFT: 0x0000F14E,
    CHEVRON_WITH_CIRCLE_RIGHT: 0x0000F14F,
    CHEVRON_WITH_CIRCLE_UP: 0x0000F150,
    CIRCLE: 0x0000F151,
    CIRCLE_WITH_CROSS: 0x0000F152,
    CIRCLE_WITH_MINUS: 0x0000F153,
    CIRCLE_WITH_PLUS: 0x0000F154,
    CIRCULAR_GRAPH: 0x0000F155,
    CLAPPERBOARD: 0x0000F156,
    CLASSIC_COMPUTER: 0x0000F157,
    CLIPBOARD: 0x0000F158,
    CLOCK: 0x0000F159,
    CLOUD: 0x0000F15A,
    CODE: 0x0000F15B,
    COG: 0x0000F15C,
    COLOURS: 0x0000F15D,
    COMPASS: 0x0000F15E,
    CONTROLLER_FAST_BACKWARD: 0x0000F15F,
    CONTROLLER_FAST_FORWARD: 0x0000F160,
    CONTROLLER_JUMP_TO_START: 0x0000F161,
    CONTROLLER_NEXT: 0x0000F162,
    CONTROLLER_PAUS: 0x0000F163,
    CONTROLLER_PLAY: 0x0000F164,
    CONTROLLER_RECORD: 0x0000F165,
    CONTROLLER_STOP: 0x0000F166,
    CONTROLLER_VOLUME: 0x0000F167,
    COPY: 0x0000F168,
    CREATIVE_CLOUD: 0x0000F169,
    CREATIVE_COMMONS: 0x0000F16A,
    CREATIVE_COMMONS_ATTRIBUTION: 0x0000F16B,
    CREATIVE_COMMONS_NODERIVS: 0x0000F16C,
    CREATIVE_COMMONS_NONCOMMERCIAL_EU: 0x0000F16D,
    CREATIVE_COMMONS_NONCOMMERCIAL_US: 0x0000F16E,
    CREATIVE_COMMONS_PUBLIC_DOMAIN: 0x0000F16F,
    CREATIVE_COMMONS_REMIX: 0x0000F170,
    CREATIVE_COMMONS_SHARE: 0x0000F171,
    CREATIVE_COMMONS_SHAREALIKE: 0x0000F172,
    CREDIT: 0x0000F173,
    CREDIT_CARD: 0x0000F174,
    CROP: 0x0000F175,
    CROSS: 0x0000F176,
    CUP: 0x0000F177,
    CW: 0x0000F178,
    CYCLE: 0x0000F179,
    DATABASE: 0x0000F17A,
    DIAL_PAD: 0x0000F17B,
    DIRECTION: 0x0000F17C,
    DOCUMENT: 0x0000F17D,
    DOCUMENT_LANDSCAPE: 0x0000F17E,
    DOCUMENTS: 0x0000F17F,
    DOT_SINGLE: 0x0000F180,
    DOTS_THREE_HORIZONTAL: 0x0000F181,
    DOTS_THREE_VERTICAL: 0x0000F182,
    DOTS_TWO_HORIZONTAL: 0x0000F183,
    DOTS_TWO_VERTICAL: 0x0000F184,
    DOWNLOAD: 0x0000F185,
    DRIBBBLE: 0x0000F186,
    DRIBBBLE_WITH_CIRCLE: 0x0000F187,
    DRINK: 0x0000F188,
    DRIVE: 0x0000F189,
    DROP: 0x0000F18A,
    DROPBOX: 0x0000F18B,
    EDIT: 0x0000F18C,
    EMAIL: 0x0000F18D,
    EMOJI_FLIRT: 0x0000F18E,
    EMOJI_HAPPY: 0x0000F18F,
    EMOJI_NEUTRAL: 0x0000F190,
    EMOJI_SAD: 0x0000F191,
    ERASE: 0x0000F192,
    ERASER: 0x0000F193,
    EVERNOTE: 0x0000F194,
    EXPORT: 0x0000F195,
    EYE: 0x0000F196,
    EYE_WITH_LINE: 0x0000F197,
    FACEBOOK: 0x0000F198,
    FACEBOOK_WITH_CIRCLE: 0x0000F199,
    FEATHER: 0x0000F19A,
    FINGERPRINT: 0x0000F19B,
    FLAG: 0x0000F19C,
    FLASH: 0x0000F19D,
    FLASHLIGHT: 0x0000F19E,
    FLAT_BRUSH: 0x0000F19F,
    FLATTR: 0x0000F1A0,
    FLICKR: 0x0000F1A1,
    FLICKR_WITH_CIRCLE: 0x0000F1A2,
    FLOW_BRANCH: 0x0000F1A3,
    FLOW_CASCADE: 0x0000F1A4,
    FLOW_LINE: 0x0000F1A5,
    FLOW_PARALLEL: 0x0000F1A6,
    FLOW_TREE: 0x0000F1A7,
    FLOWER: 0x0000F1A8,
    FOLDER: 0x0000F1A9,
    FOLDER_IMAGES: 0x0000F1AA,
    FOLDER_MUSIC: 0x0000F1AB,
    FOLDER_VIDEO: 0x0000F1AC,
    FORWARD: 0x0000F1AD,
    FOURSQUARE: 0x0000F1AE,
    FUNNEL: 0x0000F1AF,
    GAME_CONTROLLER: 0x0000F1B0,
    GAUGE: 0x0000F1B1,
    GITHUB: 0x0000F1B2,
    GITHUB_WITH_CIRCLE: 0x0000F1B3,
    GLOBE: 0x0000F1B4,
    GOOGLE_DRIVE: 0x0000F1B5,
    GOOGLE_HANGOUTS: 0x0000F1B6,
    GOOGLE_PLAY: 0x0000F1B7,
    GOOGLE_PLUS: 0x0000F1B8,
    GOOGLE_PLUS_WITH_CIRCLE: 0x0000F1B9,
    GRADUATION_CAP: 0x0000F1BA,
    GRID: 0x0000F1BB,
    GROOVESHARK: 0x0000F1BC,
    HAIR_CROSS: 0x0000F1BD,
    HAND: 0x0000F1BE,
    HEART: 0x0000F1BF,
    HEART_OUTLINED: 0x0000F1C0,
    HELP: 0x0000F1C1,
    HELP_WITH_CIRCLE: 0x0000F1C2,
    HOME: 0x0000F1C3,
    HOUR_GLASS: 0x0000F1C4,
    HOUZZ: 0x0000F1C5,
    ICLOUD: 0x0000F1C6,
    IMAGE: 0x0000F1C7,
    IMAGE_INVERTED: 0x0000F1C8,
    IMAGES: 0x0000F1C9,
    INBOX: 0x0000F1CA,
    INFINITY: 0x0000F1CB,
    INFO: 0x0000F1CC,
    INFO_WITH_CIRCLE: 0x0000F1CD,
    INSTAGRAM: 0x0000F1CE,
    INSTAGRAM_WITH_CIRCLE: 0x0000F1CF,
    INSTALL: 0x0000F1D0,
    KEY: 0x0000F1D1,
    KEYBOARD: 0x0000F1D2,
    LAB_FLASK: 0x0000F1D3,
    LANDLINE: 0x0000F1D4,
    LANGUAGE: 0x0000F1D5,
    LAPTOP: 0x0000F1D6,
    LASTFM: 0x0000F1D7,
    LASTFM_WITH_CIRCLE: 0x0000F1D8,
    LAYERS: 0x0000F1D9,
    LEAF: 0x0000F1DA,
    LEVEL_DOWN: 0x0000F1DB,
    LEVEL_UP: 0x0000F1DC,
    LIFEBUOY: 0x0000F1DD,
    LIGHT_BULB: 0x0000F1DE,
    LIGHT_DOWN: 0x0000F1DF,
    LIGHT_UP: 0x0000F1E0,
    LINE_GRAPH: 0x0000F1E1,
    LINK: 0x0000F1E2,
    LINKEDIN: 0x0000F1E3,
    LINKEDIN_WITH_CIRCLE: 0x0000F1E4,
    LIST: 0x0000F1E5,
    LOCATION: 0x0000F1E6,
    LOCATION_PIN: 0x0000F1E7,
    LOCK: 0x0000F1E8,
    LOCK_OPEN: 0x0000F1E9,
    LOG_OUT: 0x0000F1EA,
    LOGIN: 0x0000F1EB,
    LOOP: 0x0000F1EC,
    MAGNET: 0x0000F1ED,
    MAGNIFYING_GLASS: 0x0000F1EE,
    MAIL: 0x0000F1EF,
    MAIL_WITH_CIRCLE: 0x0000F1F0,
    MAN: 0x0000F1F1,
    MAP: 0x0000F1F2,
    MASK: 0x0000F1F3,
    MEDAL: 0x0000F1F4,
    MEDIUM: 0x0000F1F5,
    MEDIUM_WITH_CIRCLE: 0x0000F1F6,
    MEGAPHONE: 0x0000F1F7,
    MENU: 0x0000F1F8,
    MERGE: 0x0000F1F9,
    MESSAGE: 0x0000F1FA,
    MIC: 0x0000F1FB,
    MINUS: 0x0000F1FC,
    MIXI: 0x0000F1FD,
    MOBILE: 0x0000F1FE,
    MODERN_MIC: 0x0000F1FF,
    MOON: 0x0000F200,
    MOUSE: 0x0000F201,
    MOUSE_POINTER: 0x0000F202,
    MUSIC: 0x0000F203,
    NETWORK: 0x0000F204,
    NEW: 0x0000F205,
    NEW_MESSAGE: 0x0000F206,
    NEWS: 0x0000F207,
    NEWSLETTER: 0x0000F208,
    NOTE: 0x0000F209,
    NOTIFICATION: 0x0000F20A,
    NOTIFICATIONS_OFF: 0x0000F20B,
    OLD_MOBILE: 0x0000F20C,
    OLD_PHONE: 0x0000F20D,
    ONEDRIVE: 0x0000F20E,
    OPEN_BOOK: 0x0000F20F,
    PALETTE: 0x0000F210,
    PAPER_PLANE: 0x0000F211,
    PAYPAL: 0x0000F212,
    PENCIL: 0x0000F213,
    PHONE: 0x0000F214,
    PICASA: 0x0000F215,
    PIE_CHART: 0x0000F216,
    PIN: 0x0000F217,
    PINTEREST: 0x0000F218,
    PINTEREST_WITH_CIRCLE: 0x0000F219,
    PLUS: 0x0000F21A,
    POPUP: 0x0000F21B,
    POWER_PLUG: 0x0000F21C,
    PRICE_RIBBON: 0x0000F21D,
    PRICE_TAG: 0x0000F21E,
    PRINT: 0x0000F21F,
    PROGRESS_EMPTY: 0x0000F220,
    PROGRESS_FULL: 0x0000F221,
    PROGRESS_ONE: 0x0000F222,
    PROGRESS_TWO: 0x0000F223,
    PUBLISH: 0x0000F224,
    QQ: 0x0000F225,
    QQ_WITH_CIRCLE: 0x0000F226,
    QUOTE: 0x0000F227,
    RADIO: 0x0000F228,
    RAFT: 0x0000F229,
    RAFT_WITH_CIRCLE: 0x0000F22A,
    RAINBOW: 0x0000F22B,
    RDIO: 0x0000F22C,
    RDIO_WITH_CIRCLE: 0x0000F22D,
    REMOVE_USER: 0x0000F22E,
    RENREN: 0x0000F22F,
    REPLY: 0x0000F230,
    REPLY_ALL: 0x0000F231,
    RESIZE_100_PERCENT: 0x0000F232,
    RESIZE_FULL_SCREEN: 0x0000F233,
    RETWEET: 0x0000F234,
    ROCKET: 0x0000F235,
    ROUND_BRUSH: 0x0000F236,
    RSS: 0x0000F237,
    RULER: 0x0000F238,
    SAVE: 0x0000F239,
    SCISSORS: 0x0000F23A,
    SCRIBD: 0x0000F23B,
    SELECT_ARROWS: 0x0000F23C,
    SHARE: 0x0000F23D,
    SHARE_ALTERNATIVE: 0x0000F23E,
    SHAREABLE: 0x0000F23F,
    SHIELD: 0x0000F240,
    SHOP: 0x0000F241,
    SHOPPING_BAG: 0x0000F242,
    SHOPPING_BASKET: 0x0000F243,
    SHOPPING_CART: 0x0000F244,
    SHUFFLE: 0x0000F245,
    SIGNAL: 0x0000F246,
    SINA_WEIBO: 0x0000F247,
    SKYPE: 0x0000F248,
    SKYPE_WITH_CIRCLE: 0x0000F249,
    SLIDESHARE: 0x0000F24A,
    SMASHING: 0x0000F24B,
    SOUND: 0x0000F24C,
    SOUND_MIX: 0x0000F24D,
    SOUND_MUTE: 0x0000F24E,
    SOUNDCLOUD: 0x0000F24F,
    SPORTS_CLUB: 0x0000F250,
    SPOTIFY: 0x0000F251,
    SPOTIFY_WITH_CIRCLE: 0x0000F252,
    SPREADSHEET: 0x0000F253,
    SQUARED_CROSS: 0x0000F254,
    SQUARED_MINUS: 0x0000F255,
    SQUARED_PLUS: 0x0000F256,
    STAR: 0x0000F257,
    STAR_OUTLINED: 0x0000F258,
    STOPWATCH: 0x0000F259,
    STUMBLEUPON: 0x0000F25A,
    STUMBLEUPON_WITH_CIRCLE: 0x0000F25B,
    SUITCASE: 0x0000F25C,
    SWAP: 0x0000F25D,
    SWARM: 0x0000F25E,
    SWEDEN: 0x0000F25F,
    SWITCH: 0x0000F260,
    TABLET: 0x0000F261,
    TABLET_MOBILE_COMBO: 0x0000F262,
    TAG: 0x0000F263,
    TEXT: 0x0000F264,
    TEXT_DOCUMENT: 0x0000F265,
    TEXT_DOCUMENT_INVERTED: 0x0000F266,
    THERMOMETER: 0x0000F267,
    THUMBS_DOWN: 0x0000F268,
    THUMBS_UP: 0x0000F269,
    THUNDER_CLOUD: 0x0000F26A,
    TICKET: 0x0000F26B,
    TIME_SLOT: 0x0000F26C,
    TOOLS: 0x0000F26D,
    TRAFFIC_CONE: 0x0000F26E,
    TRASH: 0x0000F26F,
    TREE: 0x0000F270,
    TRIANGLE_DOWN: 0x0000F271,
    TRIANGLE_LEFT: 0x0000F272,
    TRIANGLE_RIGHT: 0x0000F273,
    TRIANGLE_UP: 0x0000F274,
    TRIPADVISOR: 0x0000F275,
    TROPHY: 0x0000F276,
    TUMBLR: 0x0000F277,
    TUMBLR_WITH_CIRCLE: 0x0000F278,
    TV: 0x0000F279,
    TWITTER: 0x0000F27A,
    TWITTER_WITH_CIRCLE: 0x0000F27B,
    TYPING: 0x0000F27C,
    UNINSTALL: 0x0000F27D,
    UNREAD: 0x0000F27E,
    UNTAG: 0x0000F27F,
    UPLOAD: 0x0000F280,
    UPLOAD_TO_CLOUD: 0x0000F281,
    USER: 0x0000F282,
    USERS: 0x0000F283,
    V_CARD: 0x0000F284,
    VIDEO: 0x0000F285,
    VIDEO_CAMERA: 0x0000F286,
    VIMEO: 0x0000F287,
    VIMEO_WITH_CIRCLE: 0x0000F288,
    VINE: 0x0000F289,
    VINE_WITH_CIRCLE: 0x0000F28A,
    VINYL: 0x0000F28B,
    VK: 0x0000F28C,
    VK_ALTERNITIVE: 0x0000F28D,
    VK_WITH_CIRCLE: 0x0000F28E,
    VOICEMAIL: 0x0000F28F,
    WALLET: 0x0000F290,
    WARNING: 0x0000F291,
    WATER: 0x0000F292,
    WINDOWS_STORE: 0x0000F293,
    XING: 0x0000F294,
    XING_WITH_CIRCLE: 0x0000F295,
    YELP: 0x0000F296,
    YOUKO: 0x0000F297,
    YOUKO_WITH_CIRCLE: 0x0000F298,
    YOUTUBE: 0x0000F299,
    YOUTUBE_WITH_CIRCLE: 0x0000F29A,
  };
});